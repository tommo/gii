
def options( opt ):	
	opt.load( 'compiler_cxx compiler_c' )
	opt.load( 'python' )
	opt.load( 'cython' )

def configure( conf ):
	env = conf.env
	conf.load( 'compiler_cxx compiler_c' )
	conf.load( 'compiler_cxx compiler_c' )
	conf.load( 'python' )
	conf.load( 'cython' )
	conf.env.ARCH  = [ 'i386', 'x86_64' ]


def build( bld ):
	INSTALL_NAME = 'freejoy.so'
	bld(
		source   = 'freejoy.pyx freejoy.macosx.c',
		features = 'cxx cxxshlib pyext',
		target   = INSTALL_NAME,
		name     = 'freejoy',
		includes = [ '.', '/usr/include/python2.7' ],
		framework = [ 
			'IOKit' ,
			'Python'
		],
		
		install_path = '..'
	)
